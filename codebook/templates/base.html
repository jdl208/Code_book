<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">

	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
	<link rel="stylesheet" href="{{url_for('static', filename='css/style.css')}}">

	<title>{{ title }} - My &lt;code&gt;book</title>
</head>

<body>
	<header>
		<nav>
			<div class="nav-wrapper blue-grey darken-3">
				<a href="{{ url_for('home') }}" class="brand-logo center">My codebook</a>
				<a href="#" data-target="slide-out" class="sidenav-trigger"><i class="material-icons">menu</i></a>
				<ul class="right hide-on-med-and-down">
                    {% if current_user.is_authenticated %}
                        <li><a href="{{ url_for('account')}}">Account</a></li>
                        <li><a href="{{ url_for('logout')}}">Logout</a></li>
                    {% else %}
                        <li><a href="{{ url_for('login')}}">Login</a></li>
                        <li><a href="{{ url_for('register')}}">Register</a></li>
                    {% endif %}
            </ul>
			</div>
		</nav>

		<ul id="slide-out" class="sidenav">
			<li>
				<div class="user-view">
					<div class="background blue-grey darken-3">
						<img src="">
					</div>
                    {% if current_user.is_authenticated %}
                        <a href="#user"><img class="circle" src="{{ url_for('static', filename='prof_img/' + current_user.profile_pic) }}"></a>
                        <a href="#name"><span class="white-text name">{{ current_user.username }}</span></a>
                        <a href="#email"><span class="white-text email">{{ current_user.email }}</span></a>
                    {% else %}
                        <a href="#user"><img class="circle" src="{{ url_for('static', filename='prof_img/default.png') }}"></a>
                        <a href="#name"><span class="white-text name"></span></a>
                        <a href="#email"><span class="white-text email"></span></a>
                    {% endif %}

				</div>
			</li>
			{% if current_user.is_authenticated %}
                <li><a href="{{ url_for('account')}}">Account</a></li>
                <li><a href="{{ url_for('logout')}}">Logout</a></li>
            {% else %}
                <li><a href="{{ url_for('login')}}">Login</a></li>
                <li><a href="{{ url_for('register')}}">Register</a></li>
            {% endif %}
		</ul>
	</header>
	<main>

    <!-- FLASH MESSAGE -->
		<div class="container">
			{% with messages = get_flashed_messages(with_categories=true) %}
				{% if messages %}
					{% for category, message in messages %}
						<div class="alert alert_{{ category }}">
							{{ message }}
						</div>
					{% endfor %}
				{% endif %}
			{% endwith%}
			{% block content %}
			{% endblock %}
		</div>
    <!-- END FLASH MESSAGE -->

	</main>

	<footer class="page-footer blue-grey darken-3">
		<div class="container">
			<div class="row">
				<div class="col l6 s12">
					<h5 class="white-text">Footer Content</h5>
					<p class="grey-text text-lighten-4">You can use rows and columns here to organize your footer
						content.</p>
				</div>
				<div class="col l4 offset-l2 s12">
					<h5 class="white-text">Links</h5>
					<ul>
						<li><a class="grey-text text-lighten-3" href="#!">Link 1</a></li>
						<li><a class="grey-text text-lighten-3" href="#!">Link 2</a></li>
						<li><a class="grey-text text-lighten-3" href="#!">Link 3</a></li>
						<li><a class="grey-text text-lighten-3" href="#!">Link 4</a></li>
					</ul>
				</div>
			</div>
		</div>
	</footer>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
	<script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>